<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TORFL-2 Pro Controller</title>
    <link rel="stylesheet" href="styles/main.css">
    <!-- ÏïÑÏù¥ÏΩò ÏÇ¨Ïö©ÏùÑ ÏúÑÌïú CDN -->
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- ÏÇ¨Ïù¥ÎìúÎ∞î (Î©îÎâ¥) -->
        <aside class="sidebar">
            <div class="brand">üöÄ TORFL.Pro</div>
            <nav>
                <button class="nav-btn active" data-target="dashboard">
                    <i class="ri-dashboard-line"></i> Dashboard
                </button>
                <button class="nav-btn" data-target="chat">
                    <i class="ri-chat-voice-line"></i> Live Session
                </button>
                <button class="nav-btn" data-target="prompt">
                    <i class="ri-brain-line"></i> System Prompt
                </button>
                <button class="nav-btn" data-target="settings">
                    <i class="ri-settings-4-line"></i> Settings
                </button>
            </nav>
            <div class="status-indicator">
                <span class="dot"></span> <span id="api-status">API Ready</span>
            </div>
        </aside>

        <!-- Î©îÏù∏ Ïª®ÌÖêÏ∏† ÏòÅÏó≠ -->
        <main class="content">
            
            <!-- 1. ÎåÄÏãúÎ≥¥Îìú -->
            <section id="dashboard" class="panel active">
                <h2>Overview</h2>
                <div class="stats-grid">
                    <div class="stat-card">
                        <h3>Current Model</h3>
                        <p id="current-model-display">GPT-4o</p>
                    </div>
                    <div class="stat-card">
                        <h3>Session Time</h3>
                        <p>00:00:00</p>
                    </div>
                    <div class="stat-card">
                        <h3>Knowledge Base</h3>
                        <p id="kb-status">Linked (GitHub)</p>
                    </div>
                </div>
            </section>

            <!-- 2. Ï±ÑÌåÖ/ÌöåÌôî -->
            <section id="chat" class="panel">
                <div class="chat-header">
                    <h2>Live Session</h2>
                    <div class="mode-toggles">
                        <label><input type="checkbox" id="auto-tts" checked> Auto TTS</label>
                        <label><input type="checkbox" id="strict-mode"> Strict Mode</label>
                    </div>
                </div>
                <div id="chat-box" class="terminal-chat">
                    <div class="msg system">[SYSTEM] Session initialized. Waiting for input...</div>
                </div>
                <div class="input-console">
                    <button id="rec-btn" class="console-btn rec"><i class="ri-mic-line"></i> REC</button>
                    <input type="text" id="text-input" placeholder="Type command or Russian text...">
                    <button id="send-btn" class="console-btn"><i class="ri-send-plane-fill"></i></button>
                </div>
            </section>

            <!-- 3. ÌîÑÎ°¨ÌîÑÌä∏ ÏóêÎîîÌÑ∞ (ÌïµÏã¨) -->
            <section id="prompt" class="panel">
                <h2>üß† System Brain Configuration</h2>
                <p class="desc">AIÏùò ÌéòÎ•¥ÏÜåÎÇòÏôÄ Ï±ÑÏ†ê Í∏∞Ï§ÄÏùÑ ÏßÅÏ†ë ÏΩîÎî©ÌïòÏÑ∏Ïöî.</p>
                <textarea id="system-prompt" spellcheck="false">
You are a strict TORFL-2 (B2) Russian examiner.
Target Level: B2 (Upper Intermediate).

[Role]
- Act as a formal university professor.
- Do not be friendly. Be objective.

[Task]
- Correct every grammar mistake.
- If user uses simple vocabulary, suggest B2-level synonyms.
- Output JSON format: { "correction": "...", "reply": "..." }
                </textarea>
                <button id="save-prompt-btn" class="primary-btn">üíæ Save Configuration</button>
            </section>

            <!-- 4. ÏÑ§Ï†ï -->
            <section id="settings" class="panel">
            <h2>‚öôÔ∏è Engine Settings</h2>
            
            <!-- OpenAI ÏÑ§Ï†ï -->
            <div class="setting-group">
                <h3><i class="ri-openai-fill"></i> OpenAI</h3>
                <label>API Key</label>
                <input type="password" id="openai-key-input" placeholder="sk-...">
                <label>Model</label>
                <select id="openai-model-select">
                    <option value="gpt-5.2">GPT-5.2 (Latest & Best)</option>
                    <option value="gpt-5.2-instant">GPT-5.2 Instant (Fast)</option>
                    <option value="gpt-4o">GPT-4o</option>
                    <option value="gpt-3.5-turbo">GPT-3.5 Turbo</option>
                </select>
            </div>

            <!-- Google Gemini ÏÑ§Ï†ï -->
            <div class="setting-group" style="margin-top: 20px; border-top: 1px solid var(--border); padding-top: 20px;">
                <h3><i class="ri-google-fill"></i> Google Gemini</h3>
                <label>API Key</label>
                <input type="password" id="google-key-input" placeholder="AIzaSy...">
                <label>Model</label>
                <select id="google-model-select">
                    <option value="gemini-3-flash">Gemini 3 Flash (Super Fast)</option>
                    <option value="gemini-1.5-pro">Gemini 1.5 Pro</option>
                </select>
            </div>

            <!-- Î©îÏù∏ Í≥µÍ∏âÏûê ÏÑ†ÌÉù -->
            <div class="setting-group" style="margin-top: 20px; background: #333; padding: 15px; border-radius: 8px;">
                <label style="color: var(--success); font-weight: bold;">üåü Active Provider</label>
                <select id="active-provider">
                    <option value="openai">Use OpenAI</option>
                    <option value="google">Use Google Gemini</option>
                </select>
            </div>

            <button id="save-settings-btn" class="primary-btn">üíæ Save All Configurations</button>
        </section>
        </main>
    </div>
    <script type="module" src="scripts/main.js"></script>
</body>
</html>
